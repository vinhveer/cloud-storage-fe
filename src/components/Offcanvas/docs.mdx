import React from 'react'
import Offcanvas from '@/components/Offcanvas/Offcanvas'
import { Button } from '@/components/Button/Button'

# Offcanvas

Bảng trượt từ các cạnh màn hình: trái/phải/trên/dưới. Hỗ trợ chiều rộng phần trăm và header có nút đóng.

## When to use

- Điều hướng phụ, chi tiết bổ sung, form phụ, quick view.
- Khi cần giữ ngữ cảnh trang hiện tại nhưng hiển thị nội dung mở rộng.

## Demos

```tsx
import Offcanvas from '@/components/Offcanvas/Offcanvas'
import { Button } from '@/components/Button/Button'
```

### Right 50%

```tsx
{(() => {
  const [open, setOpen] = React.useState(false)
  return (
    <div>
      <Button onClick={() => setOpen(true)}>Open Right (50%)</Button>
      <Offcanvas alignment="right" width="50" title="Right Panel" closeButton open={open} onOpenChange={setOpen}>
        <p className="text-sm text-gray-700">Nội dung panel bên phải.</p>
      </Offcanvas>
    </div>
  )
})()}
```

{(() => {
  const [open, setOpen] = React.useState(false)
  return (
    <div>
      <Button onClick={() => setOpen(true)}>Open Right (50%)</Button>
      <Offcanvas alignment="right" width="50" title="Right Panel" closeButton open={open} onOpenChange={setOpen}>
        <p className="text-sm text-gray-700">Nội dung panel bên phải.</p>
      </Offcanvas>
    </div>
  )
})()}

### Left 25%

```tsx
{(() => {
  const [open, setOpen] = React.useState(false)
  return (
    <div>
      <Button variant="secondary" onClick={() => setOpen(true)}>Open Left (25%)</Button>
      <Offcanvas alignment="left" width="25" title="Left Panel" closeButton={{ position: 'right' }} open={open} onOpenChange={setOpen}>
        <p className="text-sm text-gray-700">Nội dung panel bên trái.</p>
      </Offcanvas>
    </div>
  )
})()}
```

{(() => {
  const [open, setOpen] = React.useState(false)
  return (
    <div>
      <Button variant="secondary" onClick={() => setOpen(true)}>Open Left (25%)</Button>
      <Offcanvas alignment="left" width="25" title="Left Panel" closeButton={{ position: 'right' }} open={open} onOpenChange={setOpen}>
        <p className="text-sm text-gray-700">Nội dung panel bên trái.</p>
      </Offcanvas>
    </div>
  )
})()}

### Top 100%

```tsx
{(() => {
  const [open, setOpen] = React.useState(false)
  return (
    <div>
      <Button variant="secondary" onClick={() => setOpen(true)}>Open Top (100%)</Button>
      <Offcanvas alignment="top" width="100" title="Top Panel" closeButton open={open} onOpenChange={setOpen}>
        <div className="space-y-2">
          <p className="text-sm text-gray-700">Chiều rộng full, phủ toàn màn hình theo chiều dọc.</p>
          <p className="text-sm text-gray-700">Dùng cho form dài hoặc wizard.</p>
        </div>
      </Offcanvas>
    </div>
  )
})()}
```

{(() => {
  const [open, setOpen] = React.useState(false)
  return (
    <div>
      <Button variant="secondary" onClick={() => setOpen(true)}>Open Top (100%)</Button>
      <Offcanvas alignment="top" width="100" title="Top Panel" closeButton open={open} onOpenChange={setOpen}>
        <div className="space-y-2">
          <p className="text-sm text-gray-700">Chiều rộng full, phủ toàn màn hình theo chiều dọc.</p>
          <p className="text-sm text-gray-700">Dùng cho form dài hoặc wizard.</p>
        </div>
      </Offcanvas>
    </div>
  )
})()}

## API

| Prop | Type | Default | Mô tả |
| --- | --- | --- | --- |
| `id` | `string` | autogenerated | DOM id (tuỳ chọn) |
| `alignment` | `'left' \| 'right' \| 'top' \| 'bottom'` | `'right'` | Vị trí trượt |
| `width` | `'25' \| '50' \| '75' \| '100'` | `'50'` | Độ rộng panel |
| `heading` | `string` | `''` | (Deprecated) Dùng `title` |
| `title` | `string` | - | Tiêu đề header |
| `closeButton` | `boolean \| { position?: 'left' \| 'right' }` | `false` | Hiển thị nút đóng trong header |
| `open` | `boolean` | - | Chế độ điều khiển |
| `defaultOpen` | `boolean` | `false` | Trạng thái mặc định |
| `onOpenChange` | `(open: boolean) => void` | - | Callback khi mở/đóng |
| `className` | `string` | - | Thêm class Tailwind |
| `children` | `React.ReactNode` | - | Nội dung panel |

## Ghi chú

- Backdrop click sẽ đóng panel. Nhấn Escape cũng đóng.
- `width='100'` sẽ phủ full cả chiều dọc với top/bottom, full chiều ngang với left/right.
- Transitions sử dụng utility Tailwind và không phụ thuộc vào AlpineJS.
 - Header sẽ hiển thị nếu `title` (hoặc `heading`) hoặc `closeButton` được truyền.


